Ключевой Принцип Первого Этапа: План не может быть сгенерирован (или даже просмотрен на PlanPage), пока пользователь вручную не создал OutlinePoints и не привязал к ним все мысли в основных секциях (Introduction, Main, Conclusion).

Крупные Части Работы для Первой Итерации:

Блокировка/Требование Привязки Мыслей:

Логика: На бэкенде или фронтенде (например, в useSermon или при переходе) добавить проверку: для данного sermonId убедиться, что каждая Thought в массивах sermon.thoughts, у которой есть тег "Вступление", "Основная часть" или "Заключение", имеет непустое поле outlinePointId, и этот ID соответствует существующему OutlinePoint в sermon.outline в той же секции. Мысли без структурных тегов или в "ambiguous" можно игнорировать для этой проверки (или требовать, чтобы "ambiguous" был пуст).

UI: Кнопка/ссылка на PlanPage (например, "Просмотреть/Создать План" на SermonPage или StructurePage) должна быть неактивна (disabled), если проверка не пройдена. При наведении/клике на неактивную кнопку показывать сообщение: "Пожалуйста, сначала создайте пункты плана и привяжите к ним все мысли на странице Структуры".

Кнопка «Посмотреть план пропаде» расположена на главной странице, и она пока только там существует. Других мест нет.