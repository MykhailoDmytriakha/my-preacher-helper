# Project Memory (Learning Pipeline)

> **–ü—Ä–∏–Ω—Ü–∏–ø:** Memory ‚Äî —ç—Ç–æ –Ω–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –∞ pipeline –æ–±—É—á–µ–Ω–∏—è.  
> **Flow:** Lessons (—Å—ã—Ä—ã–µ) ‚Üí Short-Term (–æ—Å–º—ã—Å–ª–µ–Ω–∏–µ) ‚Üí Long-Term (–ø—Ä–∏–Ω—Ü–∏–ø—ã)

---

## üÜï Lessons (Inbox) ‚Äî –¢–æ–ª—å–∫–æ —á—Ç–æ –≤—ã—É—á–µ–Ω–æ

> –°—ã—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö –∏ —Ä–µ—à–µ–Ω–∏—è—Ö. –ó–∞–ø–∏—Å—ã–≤–∞—Ç—å –°–†–ê–ó–£ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

### 2025-12-11 Search snippets must include tags
**Problem:** –ü—Ä–∏ –ø–æ–∏—Å–∫–µ –ø–æ —Ç–µ–≥–∞–º —Å–Ω–∏–ø–ø–µ—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏ —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç –º—ã—Å–ª–µ–π –∏–ª–∏ –ø—É—Å—Ç–æ—Ç—É, —Ç–µ–≥–∏ –≤—ã–≤–æ–¥–∏–ª–∏—Å—å –æ—Ç–¥–µ–ª—å–Ω–æ –∏ –±—ã–ª–∏ –Ω–µ –≤–∏–¥–Ω—ã, –µ—Å–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –±—ã–ª–æ —Ç–æ–ª—å–∫–æ –ø–æ —Ç–µ–≥—É.
**Attempts:** –î–æ–±–∞–≤–ª—è–ª –æ—Ç–¥–µ–ª—å–Ω—ã–µ –±–ª–æ–∫–∏ –¥–ª—è —Ç–µ–≥–æ–≤ ‚Üí –ø–æ–ª—É—á–∞–ª–æ—Å—å –¥–≤–∞ –±–æ—Ä–¥–µ—Ä–∞; –±–µ–∑ —Ç–µ–∫—Å—Ç–∞ —Å–Ω–∏–ø–ø–µ—Ç –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è.
**Solution:** –°–æ–±—Ä–∞–ª –µ–¥–∏–Ω—ã–π —Å–Ω–∏–ø–ø–µ—Ç –Ω–∞ –º—ã—Å–ª—å: —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç + –≤—Å–µ —Å–æ–≤–ø–∞–≤—à–∏–µ —Ç–µ–≥–∏ –≤ –æ–¥–Ω–æ–º –±–ª–æ–∫–µ; –¥–æ–±–∞–≤–∏–ª fallback —Ç–µ–∫—Å—Ç–∞ –º—ã—Å–ª–∏ –ø—Ä–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ —Ç–æ–ª—å–∫–æ –ø–æ —Ç–µ–≥—É; –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–ª –ø–µ—Ä–µ–Ω–æ—Å—ã/–ø—Ä–æ–±–µ–ª—ã, —Ç–µ–≥–∏ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Å–Ω–∏–ø–ø–µ—Ç–∞.
**Why it worked:** –û–¥–∏–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –æ–±—ä—è—Å–Ω—è–µ—Ç ‚Äú–ø–æ—á–µ–º—É –Ω–∞–π–¥–µ–Ω–æ‚Äù –∏ –ø–æ —Ç–µ–∫—Å—Ç—É, –∏ –ø–æ —Ç–µ–≥–∞–º; fallback –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –≤–∏–¥–∏–º–æ—Å—Ç—å –º–∞—Ç—á–∞; —á–∏—Å—Ç–∫–∞ whitespace —É–±–∏—Ä–∞–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π —à—É–º.
**Principle:** –ï—Å–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤ —Ç–µ–≥–∞—Ö, –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–π –æ–¥–∏–Ω —Å–Ω–∏–ø–ø–µ—Ç —Å —Ç–µ–∫—Å—Ç–æ–º –∏ —Ç–µ–≥–∞–º–∏ –≤–º–µ—Å—Ç–µ, —á—Ç–æ–±—ã –ø—Ä–∏—á–∏–Ω–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –±—ã–ª–∞ –≤–∏–¥–Ω–∞.

### 2025-12-11 Inline highlight breaks words
**Problem:** –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –≤–Ω—É—Ç—Ä–∏ —Å–ª–æ–≤–∞ (e.g., ‚Äú–ø—Ä–∏–º‚Äù –≤ ‚Äú–ø—Ä–∏–º–µ—Ä–æ–≤‚Äù) —Ä–≤–∞–ª–∞ —Å–ª–æ–≤–æ –ø–µ—Ä–µ–Ω–æ—Å–æ–º —Å—Ç—Ä–æ–∫–∏: `<mark>` —Å–æ–∑–¥–∞–≤–∞–ª —Ä–∞–∑—Ä—ã–≤ –∏ –ª–æ–º–∞–ª –≤–µ—Ä—Å—Ç–∫—É —Å–Ω–∏–ø–ø–µ—Ç–∞.
**Attempts:** –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤—ã–≤–∞–ª whitespace –∏ —É–±–∏—Ä–∞–ª –ø–µ—Ä–µ–Ω–æ—Å—ã –≤–Ω—É—Ç—Ä–∏ —Å–ª–æ–≤–∞ ‚Äî —É–ª—É—á—à–∏–ª–æ, –Ω–æ —Ä–∞–∑—Ä—ã–≤—ã –æ—Å—Ç–∞–≤–∞–ª–∏—Å—å, –∫–æ–≥–¥–∞ –±—Ä–∞—É–∑–µ—Ä —Å—Ç–∞–≤–∏–ª –ø–µ—Ä–µ–Ω–æ—Å –º–µ–∂–¥—É `<mark>` –∏ —Ç–µ–∫—Å—Ç–æ–º.
**Solution:** –î–æ–±–∞–≤–∏–ª word-joiners –≤–æ–∫—Ä—É–≥ `<mark>`, `white-space: nowrap` –Ω–∞ –ø–æ–¥—Å–≤–µ—á–µ–Ω–Ω–æ–π —á–∞—Å—Ç–∏ –∏ `word-break: keep-all` –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —Å–Ω–∏–ø–ø–µ—Ç–∞; —Å–æ—Ö—Ä–∞–Ω–∏–ª –æ—á–∏—Å—Ç–∫—É –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ –≤–Ω—É—Ç—Ä–∏ —Å–ª–æ–≤.
**Why it worked:** –ó–∞–ø—Ä–µ—Ç–∏–ª –±—Ä–∞—É–∑–µ—Ä—É —Ä–∞–∑–±–∏–≤–∞—Ç—å —Å–ª–æ–≤–æ –º–µ–∂–¥—É –ø–æ–¥—Å–≤–µ—á–µ–Ω–Ω–æ–π –∏ –Ω–µ–ø–æ—Å–≤–µ—â–µ–Ω–Ω–æ–π —á–∞—Å—Ç—å—é –∏ —É–±—Ä–∞–ª —Å–∫—Ä—ã—Ç—ã–µ –ø–µ—Ä–µ–Ω–æ—Å—ã, –ø–æ—ç—Ç–æ–º—É —Å–ª–æ–≤–æ –æ—Å—Ç–∞–ª–æ—Å—å —Ü–µ–ª—å–Ω—ã–º.
**Principle:** –ü—Ä–∏ –ø–æ–¥—Å–≤–µ—Ç–∫–µ —á–∞—Å—Ç–∏ —Å–ª–æ–≤–∞ –≤—Å–µ–≥–¥–∞ –∑–∞–ø—Ä–µ—â–∞–π –ø–µ—Ä–µ–Ω–æ—Å—ã (joiner + nowrap/keep-all) –∏ –æ—á–∏—â–∞–π –ø–µ—Ä–µ–Ω–æ—Å—ã –≤–Ω—É—Ç—Ä–∏ —Å–ª–æ–≤–∞, –∏–Ω–∞—á–µ –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –ª–æ–º–∞–µ—Ç —Å–ª–æ–≤–æ.

### 2025-12-11 Landing tests must allow multiple headings
**Problem:** –¢–µ—Å—Ç landing –ø–∞–¥–∞–ª –∏–∑-–∑–∞ –æ–∂–∏–¥–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ h1/h2, —Ç–æ–≥–¥–∞ –∫–∞–∫ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–º–µ–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ (header + hero) –∏ badge –¥–ª—è welcome.
**Attempts:** –ü–µ—Ä–µ–∫–ª—é—á–∞–ª `getByRole` –Ω–∞ `getAllByRole`, –Ω–æ –æ—Å—Ç–∞–≤–∞–ª—Å—è —Ñ–µ–π–ª –Ω–∞ h2 (–Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤).
**Solution:** –ü—Ä–æ–≤–µ—Ä—è—é –Ω–∞–ª–∏—á–∏–µ —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ `getAllByRole(...).some(...)` –¥–ª—è h1 –∏ —á–µ—Ä–µ–∑ –ø—Ä—è–º–æ–π `getByText` –¥–ª—è welcome (badge/span), –∏–∑–±–µ–≥–∞—è –∂—ë—Å—Ç–∫–æ–π –º–æ–Ω–æ–ø–æ–ª–∏–∏ –Ω–∞ –æ–¥–∏–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫.
**Why it worked:** –¢–µ—Å—Ç –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –∫ —Ä–µ–∞–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ –∏ –Ω–µ –ª–æ–º–∞–µ—Ç—Å—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Å–µ–∫—Ü–∏–π.
**Principle:** –ö–æ–≥–¥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ h1/h2, –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å tolerant: –∏—â–∏ –Ω—É–∂–Ω—ã–π —Ç–µ–∫—Å—Ç —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö, –ª–∏–±–æ –ø—Ä–æ–≤–µ—Ä—è–π —Ç–µ–∫—Å—Ç –Ω–∞–ø—Ä—è–º—É—é, –∞ –Ω–µ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∞.

### 2025-12-11 Responsive toolbar keeps search primary
**Problem:** –ü–æ—Å–ª–µ –ø–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∏ —Ç—É–ª–±–∞—Ä–∞ –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞ —Å–∂–∏–º–∞–ª–æ—Å—å ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π input —Å—Ç–∞–ª –∫–æ—Ä–æ—á–µ —Å–µ–ª–µ–∫—Ç–æ–≤, –≤–∏–∑—É–∞–ª—å–Ω–æ ‚Äú—É–º–µ–Ω—å—à–∏–ª—Å—è‚Äù.
**Attempts:** –ú–µ–Ω—è–ª –ø–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ ‚Äî –Ω–µ –ø–æ–º–æ–≥–ª–æ; –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —à–∏—Ä–∏–Ω—ã –æ—Å—Ç–∞–≤–∞–ª–æ—Å—å.
**Solution:** –£–±—Ä–∞–ª `max-width` –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞, –¥–∞–ª `flex-1` + `min-w` –∏ –≤—ã–Ω–µ—Å —á–µ–∫–±–æ–∫—Å—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Å—Ç—Ä–æ–∫—É –ø–æ–¥ —Å—Ç—Ä–æ–∫–æ–π –ø–æ–∏—Å–∫–∞/—Å–µ–ª–µ–∫—Ç–æ–≤.
**Why it worked:** –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç—Ä–æ–ª –ø–æ–ª—É—á–∏–ª –≥–∏–±–∫—É—é —à–∏—Ä–∏–Ω—É, –∞ –≤—Ç–æ—Ä–∏—á–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã –Ω–µ –æ—Ç–Ω–∏–º–∞—é—Ç —É –Ω–µ–≥–æ –º–µ—Å—Ç–æ –Ω–∞ –æ–¥–Ω–æ–π –ª–∏–Ω–∏–∏.
**Principle:** –í —Ç—É–ª–±–∞—Ä–µ –ø–æ–∏—Å–∫–∞ –æ—Å—Ç–∞–≤–ª—è–π –∏–Ω–ø—É—Ç –≥–∏–±–∫–∏–º (`flex-1` –±–µ–∑ max-width), —Ñ–∏–ª—å—Ç—Ä—ã/—á–µ–∫–±–æ–∫—Å—ã ‚Äî –æ—Ç–¥–µ–ª—å–Ω–æ –∏–ª–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–∞—Ö, —á—Ç–æ–±—ã –Ω–µ —Å–∂–∏–º–∞—Ç—å –ø–æ–∏—Å–∫.

### 2025-12-11 Jest mocks must match component exports
**Problem:** –¢–µ—Å—Ç—ã LoginOptions –ø–∞–¥–∞–ª–∏ —Å ‚ÄúElement type is invalid‚Äù –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –º–æ–∫–æ–≤ –¥–ª—è –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π –∏–∫–æ–Ω–∫–∏ –∏ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö CSS –æ–∂–∏–¥–∞–Ω–∏–π.
**Attempts:** –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–ª —Ç–µ—Å—Ç—ã ‚Äî –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π; –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–≤–∞–ª–∞—Å—å.
**Solution:** –ó–∞–º–æ–∫–∞–ª –≤—Å–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–∫–æ–Ω–∫–∏ (–≤–∫–ª—é—á–∞—è CheckIcon) –∏ –æ–±–Ω–æ–≤–∏–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–ª–∞—Å—Å–æ–≤ –¥–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö (`from-blue-600 to-purple-600`, `bg-amber-100/50 border-amber-400`).
**Why it worked:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å—Ç–∞–ª —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è –≤ —Ç–µ—Å—Ç–∞—Ö, –∞ –∞—Å—Å–µ—Ä—Ç—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ–∞–ª—å–Ω—ã–º –∫–ª–∞—Å—Å–∞–º.
**Principle:** –ü—Ä–∏ –º–æ–∫–∞—Ö –æ–±—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–∏–∫–æ–Ω–∫–∏) –º–æ–∫–∞–π –∫–∞–∂–¥—ã–π —ç–∫—Å–ø–æ—Ä—Ç, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∏ –¥–µ—Ä–∂–∏ —Ç–µ—Å—Ç–æ–≤—ã–µ –æ–∂–∏–¥–∞–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å –≤–µ—Ä—Å—Ç–∫–æ–π.

---

## üîÑ Short-Term Memory (Processing) ‚Äî –ù–∞ –æ—Å–º—ã—Å–ª–µ–Ω–∏–∏

> Lessons –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ö–æ–∂–∏–µ, –∏–∑–≤–ª–µ–∫–∞—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø—ã.

### React State Dependencies (–≥—Ä—É–ø–ø–∞ –∏–∑ 3+ lessons)

**Related lessons:** useEffect Infinite Loop, Search Logic Stability, Highlighting Integration
**Common pattern:** –ü—Ä–æ–±–ª–µ–º—ã –≤–æ–∑–Ω–∏–∫–∞—é—Ç –∫–æ–≥–¥–∞ React dependencies –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã
**Emerging principle:** 
- Computed arrays/objects –í–°–ï–ì–î–ê –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã ‚Äî –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ primitives
- RegExp –Ω–∞ original string –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ —á–µ–º index manipulation
- Override ALL content blocks in Markdown renderer, –Ω–µ —Ç–æ–ª—å–∫–æ `p`
**Confidence:** High (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ)

### Search UX Patterns (–≥—Ä—É–ø–ø–∞)

**Related lessons:** Search Must Match User's View, Show "Why It Matched", Visual Snippet Visibility
**Common pattern:** –ü–æ–∏—Å–∫ –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø
**Emerging principle:**
- –ò—Å–∫–∞—Ç—å –ø–æ –û–¢–û–ë–†–ê–ñ–ê–ï–ú–´–ú –∑–Ω–∞—á–µ–Ω–∏—è–º, –Ω–µ –ø–æ internal storage
- –ï—Å–ª–∏ match –≤ metadata ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å metadata –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö
- Snippet –¥–æ–ª–∂–µ–Ω –í–°–ï–ì–î–ê –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å matched word (–Ω–µ –æ–±—Ä–µ–∑–∞—Ç—å CSS)
**Confidence:** High

---

## üíé Long-Term Memory (Knowledge Base) ‚Äî –ò–Ω—Ç–µ—Ä–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

> –û—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ, –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–µ–º –ø—Ä–∞–≤–∏–ª–∞. –§–æ—Ä–º–∞—Ç: "–ü—Ä–∏ X ‚Äî –í–°–ï–ì–î–ê –¥–µ–ª–∞–π Y"

### üé® UI/Layout Principles

**Collapsible Panels:**
–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ collapsible columns ‚Äî –í–°–ï–ì–î–ê —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å `grid-template-columns` –ò `col-span` –≤–º–µ—Å—Ç–µ.

**Long Content Components (10K+ words):**
–í—Å–µ action buttons (Edit/Delete) –î–û–õ–ñ–ù–´ –±—ã—Ç—å –≤ header ‚Äî –ù–ò–ö–û–ì–î–ê –≤–Ω–∏–∑—É scrollable content.

**Modal ‚Üí Drawer Migration:**
Primary benefit ‚Äî MORE SPACE. Drawer widths: text labels (`30%` | `50%` | `100%`), –ù–ï abstract icons.

### üñ±Ô∏è UX Consistency Principles

**Input Interactions:**
Sibling inputs (tags, references) –î–û–õ–ñ–ù–´ –∏–º–µ—Ç—å –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–µ interaction affordances. –í–°–ï–ì–î–ê keyboard (Enter) + clickable button.

**Clickable Cards:**
`onClick` + `router.push()` –¥–ª—è navigation. –ü—Ä–æ–≤–µ—Ä—è—Ç—å nested interactive elements. Actions –≤ header.

**Text Labels vs Icons:**
–î–ª—è size/mode toggles ‚Äî TEXT labels. Abstract icons (‚ä°, ‚§¢) —Å–æ–∑–¥–∞—é—Ç confusion.

### üîÑ State Management Principles

**State Lifecycle:**
–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –õ–Æ–ë–û–ô state variable ‚Äî trace —á–µ—Ä–µ–∑ –í–ï–°–¨ lifecycle: init ‚Üí transitions ‚Üí ALL exit points.
–û—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å reset –≤: normal exit, error handling, cancellation, timeout.

**useEffect Dependencies:**
–ù–ò–ö–û–ì–î–ê –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å computed arrays/objects –∫–∞–∫ dependencies. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ primitive string.

### üß™ Testing Discipline

**Post-Change Testing:**
–ü–æ—Å–ª–µ –õ–Æ–ë–û–ì–û –∏–∑–º–µ–Ω–µ–Ω–∏—è (UI/text/accessibility) ‚Äî run test suite –ù–ï–ú–ï–î–õ–ï–ù–ù–û.
Command: `npm run test` (–ù–ï `npx jest`).

### üåç Localization Principles

**Multi-Locale Updates:**
–ü–µ—Ä–µ–¥ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –õ–Æ–ë–û–ì–û —Ç–µ–∫—Å—Ç–∞: `grep` key across ALL locales. Update ALL 3 (en/ru/uk) –≤ –æ–¥–Ω–æ–º commit.

### ü§ñ AI Integration Principles

**Structured Output:**
Zod schemas + `zodResponseFormat()` + `beta.chat.completions.parse()`. Eliminates fragile XML/regex parsing.

**Scripture References:**
Book names MUST be English for `referenceParser.ts` compatibility. Explicit per-field language rules in prompts.

### üîç Search & Highlighting Principles

**Search Matching:**
–í–°–ï–ì–î–ê –∏—Å–∫–∞—Ç—å –ø–æ DISPLAYED values, –Ω–µ internal storage. User searches what they see.

**Highlighting:**
`regex.exec(originalContent)` ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π safe way –¥–ª—è indices. Map ALL content blocks –≤ Markdown renderer.

### üì± Interactive Components

**Audio Recorder:**
Main button = ALWAYS primary action. Reset ALL state variables at ALL exit points.

### üß≠ Navigation & Architecture

**Next.js 15:**
Route params MUST be awaited: `Promise<{ id: string }>` and `await params`.

---

## üîß Session State ‚Äî –¢–µ–∫—É—â–∞—è —Ä–∞–±–æ—Ç–∞

**Current task:** agents.mdc –∏ MEMORY.md restructuring
**Recent changes:** 
- agents.mdc: Added Dynamic Framework Synthesis
- agents.mdc: Added Lesson Recording Protocol with mandatory trigger
- agents.mdc: Rebuilt Memory Architecture as Learning Pipeline
- agents.mdc: Added Frameworks as Personality Documentation
- MEMORY.md: Restructured with new pipeline format

**Open questions:** None currently

---

## üìã Memory Management Rules

### Pipeline Processing

1. **New lessons** ‚Üí –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –≤ Lessons (Inbox) –°–†–ê–ó–£
2. **3+ –ø–æ—Ö–æ–∂–∏—Ö lessons** ‚Üí –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –≤ Short-Term –¥–ª—è –æ—Å–º—ã—Å–ª–µ–Ω–∏—è
3. **Extracted principle** ‚Üí –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ Long-Term
4. **Processed lessons** ‚Üí –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ —É–¥–∞–ª—è—Ç—å

### Session Start Checklist

- [ ] Read Long-Term Memory (–º–æ–∏ –∏–Ω—Ç–µ—Ä–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞–Ω–∏—è)
- [ ] Check Lessons (Inbox) ‚Äî –µ—Å—Ç—å –ª–∏ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ?
- [ ] If 3+ similar lessons ‚Üí process to Short-Term
- [ ] Load Session State from previous session

### Session End Checklist

- [ ] "–ë—ã–ª–∏ –ª–∏ solved problems?" ‚Üí If yes, –∑–∞–ø–∏—Å–∞–ª –ª–∏ lessons?
- [ ] Update Session State for next session
- [ ] Commit MEMORY.md changes if significant

---

## üèóÔ∏è Project Architecture Quick Reference

**Key Directories:**
- `app/components/navigation/` - DashboardNav, Breadcrumbs, navConfig
- `locales/{en,ru,uk}/translation.json` - All UI strings
- `config/schemas/zod/` - AI structured output schemas
- `api/clients/` - AI integration clients

**Workspaces:**
- `/dashboard` - Sermons list (main workspace)
- `/series` - Series management
- `/studies` - Bible notes workspace
- `/groups` - Groups workspace (preview)
- `/settings` - User settings

**Key Patterns:**
- Tests: `npm run test` (NOT `npx jest` directly)
- Colors: Use `@/utils/themeColors`, never hardcode
- Comments: English only in code
